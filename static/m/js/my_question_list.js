define('my_question_list',["component/header","ajaxhelper","utility","scroll"],function(e,t,n,r){var i={initialized:!1,pageNo:0,pageSize:5,initialize:function(){this.mainBox=$("#i_mainbox"),this.tplfun=_.template($("#i_tpl").html()),this._sendRequest(!1)},_sendRequest:function(e){var r={userId:n.getUserId(),page:this.pageNo,size:this.pageSize};t.get("http://"+window.frontJSHost+"/order/listbyuser",r,this,this._render,null,e)},_render:function(e){this.pageNo++;if(!this.initialized)this.mainBox.html(this.tplfun({result:e})),this._registEvent(),this.initialized=!0,e.r.length==this.pageSize?r.initialize(this):$("#i_refresh").css("display","none");else{var t=$(this.tplfun({result:e})).find("#i_order_list .invest_result_box");t.insertBefore("#i_refresh"),e.r.length<this.pageSize?($("#i_refresh").css("display","none"),r.setDisabled()):r.setEnabled(),r.refresh(),this._registEvent()}},_registEvent:function(){$(".j_cancel").off("click",this._cancel).on("click",this._cancel),$(".j_pay").off("click",this._pay).on("click",this._pay),$(".j_complete").off("click",this._complete).on("click",this._complete),$(".j_view").off("click",this._view).on("click",this._view),$(".j_view_law").off("click",this._viewLayer).on("click",this._viewLayer)},dragFresh:function(){r.setDisabled(),this._sendRequest(!0)},_cancel:function(e){var r=$(e.target).parents(".j_result_item").data("id"),i=$(e.target).parents(".j_result_item").data("pid"),s={id:r};t.get("http://"+window.frontJSHost+"/order/cancel",s,this,function(){n.showToast("取消成功",function(){window.location="my_question_list.html"})})},_pay:function(e){var r=$(e.target).parents(".j_result_item").data("id"),i=$(e.target).parents(".j_result_item").data("pid"),s={id:r};t.get("http://"+window.frontJSHost+"/order/pay",s,this,function(){n.showToast("支付成功",function(){i==1||i==2?window.location="question_complete.html":window.location="my_question_list.html"})})},_complete:function(e){var t=$(e.target).parents(".j_result_item").data("id"),n=$(e.target).parents(".j_result_item").data("pid");window.location="question_complete.html?id="+t},_refund:function(e){},_view:function(e){var t=$(e.target).parents(".j_result_item").data("id"),n=$(e.target).parents(".j_result_item").data("pid");window.location="invest_result.html?id="+t+"&pid="+n},_viewLayer:function(e){var t=$(e.target).parents(".j_result_item").data("id"),n=$(e.target).parents(".j_result_item").data("pid");window.location="lawyer_reply.html?id="+t+"&pid="+n}};return i});