define(["component/nav_bar","component/header","ajaxhelper","utility"],function(e,t,n,r){var i={initialize:function(){e.initialize("i_navbar",1),t.initialize("i_header","用户管理"),this.mainBox=$("#i_mainbox"),this.tplFun=_.template($("#i_tpl").html()),this._sendRequest()},_sendRequest:function(){var e={page:0,size:20};n.get("http://"+window.frontJSHost+"/api/user/list",e,this,this._render,null)},_render:function(e){this.mainBox.html(this.tplFun({result:e})),this._registEvent()},_registEvent:function(){$("#i_user_filter li").off("click",this._status).on("click",{ctx:this},this._status),$("#i_search").off("click",this._doSearch).on("click",{ctx:this},this._doSearch)},_status:function(e){var t=$(this).data("value"),n=$(this).text(),r=$($(this).parents("tr")).data("id");$(this).closest("ul").prev("button").data("value",t).find("span").eq(0).text(n)},_doSearch:function(e){var t={value:$("#i_search_value").data("value"),page:0,size:20};n.get("http://"+window.frontJSHost+"/api/user/list",t,e.data.ctx,e.data.ctx._render)}};return i});